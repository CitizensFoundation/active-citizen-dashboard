<html><head><meta charset="UTF-8"><link rel="import" href="dashboard-app.html"></head><body><dom-module id="ac-news-item-classification">

  <template>

    <style include="iron-flex iron-flex-alignment">:host{display:block;padding:10px;}.dont-break-out{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;}h1{font-size:22px;color:#212121;}paper-material{background-color:#FFF;padding:16px;margin-top:24px;min-height:420px;}paper-slider{margin-top:16px;width:350px;--paper-slider-height:5px;--paper-slider-active-color:var(--google-red-500);}.container{@apply (--layout-center-center);}.top{width:100%;}.link{margin-top:16px;padding-bottom:24px;border-color:#777;}.description{font-size:19px;}.linkInfoText{color:#aaa;}.author{padding-left:8px;}.content{padding-top:16px;}.sliderNumber{color:#555;}.ratingContainer{padding-top:16px;}.next{margin-top:16px;}.raingText{color:#999;font-size:24px;}.mainContentArea{width:420px;max-width:420px;padding:8px;}.ratingArea{width:280px;}.mainHeader{font-size:22px;padding-bottom:12px;color:#000;font-weight:bold;padding-left:0;}</style>

    <div class="top">
      <div class="layout vertical center-center container">
        <paper-material elevation="4">
          <div class="layout horizontal">
          </div>
          <div class="layout horizontal wrap">

            <div class="layout vertical mainContentArea">
              <div class="mainHeader">Classify Relevancy of Social Media Posts</div>
              <div class="layout horizontal description">[[response.description]]</div>
              <google-translate class="description" api-key="AIzaSyD6XEccr0-SvPNpgKdqaZpuxNlij-ior3c" text-to-translate="[[response.description]]"></google-translate>
              <div class="link">
                <div class="linkInfoText">
                  Link to original
                </div>
                <a class="dont-break-out" href$="[[response.data_object.link]]" target="_blank">[[response.data_object.link]]</a>
              </div>
              <div class="linkInfoText">Author</div>
              <div class="layout horizontal">
                <div class="layout horizontal self-end">
                  <img width="50" height="50" src$="[[response.data_object.avatar]]">
                </div>
                <div class="author">[[response.data_object.author]]</div>
              </div>
              <div class="next layout horizontal center-center">
                <paper-button raised="" on-tap="_next">Skip</paper-button>
              </div>
            </div>

            <div class="layout vertical ratingArea">
              <ac-rating-category on-rated="_rated" category-name="Finance"></ac-rating-category>
              <ac-rating-category on-rated="_rated" category-name="Housing"></ac-rating-category>
              <ac-rating-category on-rated="_rated" category-name="University"></ac-rating-category>
              <ac-rating-category on-rated="_rated" category-name="Other"></ac-rating-category>
            </div>
          </div>
        </paper-material>
      </div>
    </div>

    <yp-ajax id="getNextToClassifyAjax" method="GET" url="/api/news_items/next_to_rate" on-response="_nextResponse"></yp-ajax>
    <yp-ajax id="classifyItemAjax" method="PUT" on-response="_classifyDone"></yp-ajax>

  </template>

  <script>Polymer({is:"ac-news-item-classification",properties:{response:{type:Object}},ready:function(){this._next()},_nextResponse:function(e,s){this.set("response",s.response)},_next:function(){this.$.getNextToClassifyAjax.generateRequest()},_classifyDone:function(e){this.set("response",null),this._next()},_rated:function(e,s){this.$.classifyItemAjax.url="/api/news_items/"+this.response.id+"/rate",this.$.classifyItemAjax.body={ratingValue:s.ratingValue,ratingCategoryName:s.categoryName},this.$.classifyItemAjax.generateRequest()},_responseChanged:function(e){}});</script>

</dom-module>
</body></html>